<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ASIN Comparison Tool</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- Chart.js CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.css">

  <!-- Custom CSS -->
  <style>
    /* Update the background color and text color of the jumbotron */
    .jumbotron {
      background-color: #f8f9fa;
      color: #333;
    }
    .negative-highlight {
  background-color: rgb(231, 71, 71);
}

  
    /* Apply a box shadow to the jumbotron */
    .jumbotron {
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
  
    /* Add a subtle hover effect to the buttons */
    .btn-primary,
    .btn-primary:hover {
      background-color: #007bff;
      border-color: #007bff;
    }
  
    /* Add margin and padding to the sections */
    .mt-5 {
      margin-top: 3rem !important;
    }
  
    .mb-3 {
      margin-bottom: 1.5rem !important;
    }
  
    .mt-5,
    .mb-5 {
      margin-bottom: 3rem !important;
    }
  
    .p-5 {
      padding: 3rem !important;
    }
  
    /* Customize the table style */
    table {
      border-collapse: collapse;
      width: 100%;
    }
  
    th,
    td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
  
    th {
      background-color: #f2f2f2;
    }
  
    /* Add a subtle highlight to the table rows */
    .highlight {
      background-color: #ffff99;
    }
  </style>
</head>

<body>

  <div class="container mt-5">
    <div class="jumbotron">
      <h1 class="display-3">Market Sentiments</h1>
      <p class="lead">Compare ASINs to gain insights and make data-driven decisions.</p>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label for="myAsin">My ASIN:</label>
          <select class="form-select" id="myAsin">
            <option value="B001GXQ7IW">B001GXQ7IW</option>
            <option value="B00CH5O6N6">B00CH5O6N6</option>
            <option value="B07XVYCX3F">B07XVYCX3F</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="competitorAsin">Competitor ASIN:</label>
          <select class="form-select" id="competitorAsin">
            <option value="B01MXK03YP">B01MXK03YP</option>
            <option value="B07BJMG15M">B07BJMG15M</option>
            <option value="B06Y3LQNYM">B06Y3LQNYM</option>
          </select>
        </div>
        <button class="btn btn-primary" id="compareBtn">Compare</button>
      </div>
    </div>
    <div class = "performance">
      <div class="row mt-5">
        <div class="col-md-6">
          <h3>Brand Performance Across Dimension</h3>
          <canvas id="radarChart">
          </canvas>
        </div>
        <div class="col-md-6">
          <h3>Sales/Reviews Correlation</h3>
          <canvas id="lineChart">
          </canvas>
        </div>
      </div>
      <div class="row mt-5">
        <div class="col-md-12">
          <h2>Sentiment across dimensions</h2>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Sentiment</th>
                <th scope="col">My ASIN</th>
                <th scope="col">Competitor ASIN</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Comfort</th>
                <td id="myAsinComfort"></td>
                <td id="competitorAsinComfort"></td>
              </tr>
              <tr>
                <th scope="row">Fashion</th>
                <td id="myAsinFashion"></td>
                <td id="competitorAsinFashion"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="row mt-5">
        <div class="col-md-12">
          <h2>Realtime market sentiments</h2>
          <div class="progress">
            <div id="sentimentBar" class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"
              style="width: 0%"></div>
          </div>
        </div>
      </div>
      <div id="reviewsWidget">
        <h2>Twitter Real-time Reviews</h2>
      </div>      
      <div class="row mt-5">
        <div class="col-md-6">
          <canvas id="realTimeChart"></canvas>
        </div>
        <div class="col-md-6">
          <div id="tweetsWidget" class="card">
            <div class="card-body">
              <h5 class="card-title">Trending Tweets</h5>
              <p class="card-text">Trending tweets related to the selected ASINs will be displayed here.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>

  <script>
    // Function to initialize and update the radar chart
    function initializeRadarChart() {
      const radarChartElement = document.getElementById('radarChart');
      const myAsinData = [Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101),  Math.floor(Math.random() * 101)];
      const competitorAsinData = [Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), 100];

      new Chart(radarChartElement, {
        type: 'radar',
        data: {
          labels: ['Comfort', 'Fashion', 'Durability', 'Price', 'Quality'],
          datasets: [
            {
              label: 'My ASIN',
              data: myAsinData,
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              borderColor: 'rgba(75, 192, 192, 1)',
              borderWidth: 1,
            },
            {
              label: 'Competitor ASIN',
              data: competitorAsinData,
              backgroundColor: 'rgba(255, 99, 132, 0.2)',
              borderColor: 'rgba(255, 99, 132, 1)',
              borderWidth: 1,
            },
          ],
        },
        options: {
          responsive: true,
          scales: {
            r: {
              beginAtZero: true,
              max: 100,
            },
          },
        },
      });
    }

    // Function to initialize and update the line chart
    function initializeLineChart() {
      const lineChartElement = document.getElementById('lineChart');
      const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May'];
      const myAsinSales = [Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101),  Math.floor(Math.random() * 101)];
      const competitorAsinSales = [Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101),  Math.floor(Math.random() * 101)];
      const ops = [Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101), Math.floor(Math.random() * 101),  Math.floor(Math.random() * 101)];

      new Chart(lineChartElement, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Postive Review Count',
              data: myAsinSales,
              borderColor: 'rgba(75, 192, 192, 1)',
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              tension: 0.3,
            },
            {
              label: 'Negative Review Count',
              data: competitorAsinSales,
              borderColor: 'rgba(255, 99, 132, 12)',
              backgroundColor: 'rgba(255, 99, 132, 0.2)',
              tension: 0.3,
            },
            {
              label: 'OPS',
              data: ops,
              borderColor: 'rgba(20, 33, 192, 1)',
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              tension: 0.3,
            },
          ],
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Sales',
              },
            },
            x: {
              title: {
                display: true,
                text: 'Month',
              },
            },
          },
        },
      });
    }

    // Function to start the sentiment graph animation
    function startSentimentGraph() {
      const sentimentBarElement = document.getElementById('sentimentBar');
      let sentimentValue = 0;

      setInterval(() => {
        sentimentValue = Math.floor(Math.random() * 101);
        sentimentBarElement.style.width = `${sentimentValue}%`;
        sentimentBarElement.setAttribute('aria-valuenow', sentimentValue);
      }, 2000);
    }

    // Function to update the comparison table with dummy data and highlight keyword
    function updateComparisonTable() {
  const myAsinComfortElement = document.getElementById('myAsinComfort');
  const competitorAsinComfortElement = document.getElementById('competitorAsinComfort');
  const myAsinFashionElement = document.getElementById('myAsinFashion');
  const competitorAsinFashionElement = document.getElementById('competitorAsinFashion');

  const keyword = 'comfort';
  const negativeKeyword = 'Not recommended';

  const myAsinReview = 'Really comfortable and snug fit. Great for casual usage like gym, casual running, etc. Go with better ones for serious marathon running.';
  const competitorAsinReview = 'The comfort level is average. Suitable for light workouts and everyday use. Not recommended for long-distance running.';

  myAsinComfortElement.innerHTML = myAsinReview.replace(new RegExp(keyword, 'gi'), match => `<span class="highlight">${match}</span>`);
  competitorAsinComfortElement.innerHTML = competitorAsinReview.replace(new RegExp(keyword, 'gi'), match => `<span class="highlight">${match}</span>`);

  const myAsinFashionReview = 'Stylish and trendy design. Perfect for fashion-forward individuals. It complements various outfits and occasions.';
  const competitorAsinFashionReview = 'The fashion appeal is moderate. It has a simple and classic design suitable for casual and everyday wear.';

  myAsinFashionElement.innerHTML = myAsinFashionReview.replace(new RegExp(keyword, 'gi'), match => `<span class="highlight">${match}</span>`);
  competitorAsinFashionElement.innerHTML = competitorAsinFashionReview.replace(new RegExp(keyword, 'gi'), match => `<span class="highlight">${match}</span>`);

  competitorAsinComfortElement.innerHTML = competitorAsinComfortElement.innerHTML.replace(new RegExp(negativeKeyword, 'gi'), match => `<span class="negative-highlight">${match}</span>`);
}


    // Function to initialize and update the real-time sentiment chart
    function initializeRealTimeChart() {
      const realTimeChartElement = document.getElementById('realTimeChart');

      const labels = [];
      const positiveSentiments = [];
      const negativeSentiments = [];

      const chart = new Chart(realTimeChartElement, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Positive Sentiments',
              data: positiveSentiments,
              borderColor: 'rgba(75, 192, 192, 1)',
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              tension: 0.3,
            },
            {
              label: 'Negative Sentiments',
              data: negativeSentiments,
              borderColor: 'rgba(255, 99, 132, 1)',
              backgroundColor: 'rgba(255, 99, 132, 0.2)',
              tension: 0.3,
            },
          ],
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Sentiment Count',
              },
            },
            x: {
              title: {
                display: true,
                text: 'Time',
              },
            },
          },
        },
      });

      // Update chart with dummy data
      setInterval(() => {
        const time = new Date().toLocaleTimeString();
        const positiveCount = Math.floor(Math.random() * 11);
        const negativeCount = Math.floor(Math.random() * 11);

        labels.push(time);
        positiveSentiments.push(positiveCount);
        negativeSentiments.push(negativeCount);

        if (labels.length > 10) {
          labels.shift();
          positiveSentiments.shift();
          negativeSentiments.shift();
        }

        chart.update();
      }, 2000);
    }

    // Function to fetch and display trending tweets
    function displayTrendingTweets() {
      const tweetsWidgetElement = document.getElementById('tweetsWidget');

      // Fetch trending tweets using an API or library of your choice
      const tweets = [
        'Check out the new SpinMaster toy collection! They have the most innovative and fun toys for kids. #awesome #spinmaster',
        'SpinMaster is killing it with their latest toy release. My kids can\'t get enough of them!',
        'I just bought a SpinMaster toy for my niece, and she absolutely loves it. Great quality and entertainment value.',
      ];

      const tweetsList = document.createElement('ul');
      tweets.forEach(tweet => {
        const listItem = document.createElement('li');
        listItem.textContent = tweet;
        tweetsList.appendChild(listItem);
      });

      tweetsWidgetElement.appendChild(tweetsList);
    }
    document.getElementById('compareBtn').addEventListener('click', () => {
  resetComparisonTable();
  resetCharts();
  fetchData();
});

function resetComparisonTable() {
  const table = document.querySelector('table');
  const highlightedText = table.querySelectorAll('.highlight');
  highlightedText.forEach((element) => {
    element.classList.remove('highlight');
  });
}

function resetCharts() {
  const radarChartElement = document.getElementById('radarChart');
  const lineChartElement = document.getElementById('lineChart');
  const realTimeChartElement = document.getElementById('realTimeChart');
  const tweetsWidget = document.getElementById('tweetsWidget');

  // Destroy existing charts
  Chart.getChart(radarChartElement)?.destroy();
  Chart.getChart(lineChartElement)?.destroy();
  Chart.getChart(realTimeChartElement)?.destroy();
  Chart.getChart(tweetsWidget)?.destroy();
}
// Dummy reviews data
const dummyReviews = [
  { rating: 5, review: 'Great product! Highly recommended.' },
  { rating: 4, review: 'Good quality, but could be better.' },
  { rating: 3, review: 'Average product. Nothing special.' },
  { rating: 2, review: 'Not satisfied with the purchase.' },
  { rating: 1, review: 'Terrible product. Avoid it at all costs!' }
];

// Initialize chart



function fetchData() {
  updateComparisonTable();
  initializeRadarChart();
  initializeLineChart();
  startSentimentGraph();
  initializeRealTimeChart();
  displayTrendingTweets();
  updateReviewsWidget();

}
  </script>
</body>

</html>
